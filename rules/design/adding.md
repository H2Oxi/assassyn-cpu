# 添加模块规则

这里我们所认为的模块是downstream类型的模块。

## 充要条件

我们需要完整的输入和输出变量的定义，既需要变量类型，又需要确定输入如何对内部状态产生影响，内部状态和输入又如何对输出产生影响。注意，这里的输入是通过build传入的变量。

- 变量类型
- FSM：内部状态，状态触发条件，状态输出
- 作用方式：外部如何使用这个模块

## 提示

### 变量确认

可以通过说明如何和外部模块作用，来确认得到一致的端口变量类型。

### 边界细化

当外部模块已知时，可以通过交互细节的补充来确定所需要的时序上的依赖与边界。比如某个外部模块想要在某一个较靠前的时刻使用某个新模块输出，我们可能使用regarray变量传递就是不行的。需要使用value，但是若这个模块是module类型，那它实际上是无法使用value作为build输入的，因此这个需求本身就不成立，需要进一步修改需求说明。

